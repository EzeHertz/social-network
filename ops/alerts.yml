groups:
  - name: app-alerts
    rules:
      - alert: AppDown
        expr: up{job="socialnetwork"} == 0
        for: 1m
        labels: {severity: critical}
        annotations: {summary: "App no responde"}

      - alert: HighErrorRate
        expr: sum(rate(http_server_requests_seconds_count{outcome=~"CLIENT_ERROR|SERVER_ERROR"}[5m]))
          / sum(rate(http_server_requests_seconds_count[5m])) > 0.1
        for: 5m
        labels: {severity: warning}
        annotations: {summary: "Tasa de error > 10%"}
